# The Legend of Heroes: Trails of Cold Steel III 1.0.1
# BID: 134EC3D8BE75126F
# Button polling is 2x more sensitive to holding any button

unsafeCheck: true

MASTER_WRITE:
  # Move loading FPS lock time to MAIN+0x2B31200
  -
    type: bytes
    main_offset: 0x511818
    value_type: uint32
    value:
      - 0x90013109
      - 0xB9420129
  # Default value
  -
    type: bytes
    main_offset: 0x2B31200
    value_type: uint32
    value: 33333333
  # Few graphical tweaks that improve performance while not affecting negatively visible graphics quality
  - # Decrease shadow resolution from overkill 4096 to 1536
    type: bytes
    main_offset: 0x7B8FE8
    value_type: uint32
    value:
      - 0x5280C009
  - 
    type: bytes
    main_offset: 0x7B8FF0
    value_type: uint32
    value:
      - 0x5280C008
  - # Increase shadow distance rendering to max supported by game
    type: bytes
    main_offset: 0x7B8FFC
    value_type: uint32
    value:
      - 0x1E2E1002
      - 0x1E2E1001
  - # Change res of portraits from 256p to 1024p
    type: bytes
    main_offset: 0x2E4AEC
    value_type: uint32
    value:
      - 0x52808001
      - 0x52808002
  -
    type: bytes
    main_offset: 0x2E4B18
    value_type: uint32
    value:
      - 0x52808001
      - 0x52808002
  -
    type: bytes
    main_offset: 0x2E4B70
    value_type: uint32
    value:
      - 0x52808001
      - 0x52808002
15FPS:
  # Lipsync length factor = (FPS/30) * 200
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 100
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 66666666
  -
    type: block
    what: timing
20FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 134
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 50000000
  -
    type: block
    what: timing
25FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 167
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 40000000
  -
    type: block
    what: timing
30FPS:
  # Lipsync length factor (default value)
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 200
  - # default value
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 33333333
35FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 234
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 28571428
  -
    type: block
    what: timing
40FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 267
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 25000000
  -
    type: block
    what: timing
45FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 300
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 22222222
  -
    type: block
    what: timing
50FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 334
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 20000000
  -
    type: block
    what: timing
55FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 367
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 18181818
  -
    type: block
    what: timing
60FPS:
  # Lipsync length factor
  -
    type: write
    address: [MAIN, 0xDC96B8, 0x40]
    value_type: uint32
    value: 400
  -
    type: write
    address: [MAIN, 0x2B31200]
    value_type: uint32
    value: 16666666
